<div class="container">
  <!-- https://angular.io/guide/forms -->
  <!-- https://angular.io/api/forms/NgForm -->
  <form (ngSubmit)="onSubmit()" #mailForm="ngForm">
    <div class="form-group">
      <label for="sender">Sender</label>
      <!-- https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation -->
      <input
        type="text"
        pattern="\w+@\w+(\.\w+)*"
        class="form-control"
        id="sender"
        required
        [(ngModel)]="mail.sender"
        name="sender"
        #txtSender="ngModel"
      />
      <div
        [hidden]="txtSender.valid || !txtSender.touched"
        class="alert alert-danger"
      >
        Email invalid
      </div>
    </div>
    <div class="form-group">
      <label for="subject">Subject</label>
      <input
        type="text"
        class="form-control"
        id="subject"
        required
        [(ngModel)]="mail.subject"
        name="subject"
        #txtSubject="ngModel"
      />
      <div
        [hidden]="txtSubject.valid || !txtSubject.touched"
        class="alert alert-danger"
      >
        Subject is required
      </div>
    </div>

    <div class="form-group">
      <label for="message">Message</label>
      <textarea
        class="form-control"
        id="message"
        rows="10"
        [(ngModel)]="mail.message"
        name="message"
      >
      </textarea>
    </div>

    <!-- https://angular.io/api/forms/NgForm -->
    <button
      type="submit"
      class="btn"
      [disabled]="!mailForm.form.valid || mailForm.submitted"
    >
      Send Mail
    </button>
  </form>
  <!-- https://angular.io/guide/pipes -->
  {{ mail | json }}
  <div>
    {{ message }}
  </div>
</div>
